{"ast":null,"code":"var _jsxFileName = \"/home/asalmi/Documents/sort2.0/src/components/App.js\";\nimport React, { useState } from 'react';\nimport '../styles/App.css';\nimport { Box, Grid } from '@material-ui/core';\nimport ControlPanel from './ControlPanel';\nimport DisplayArea from './DisplayArea';\nimport utils from '../utils.js';\n\nfunction App() {\n  const [size, setSize] = useState(55);\n  const [unique, setUnique] = useState(false);\n  const [data, setData] = useState(utils.randomize(size, unique));\n  const [algo, setAlgo] = useState('insertion');\n  const [delay, setDelay] = useState(500);\n  const [steps, setSteps] = useState(utils.getSolutionSteps(data, algo));\n  const [stepInd, setStepInd] = useState(0);\n  const [solving, setSolving] = useState(false);\n\n  const randomizeData = (s = size, u = unique) => {\n    let newData = utils.randomize(s, u);\n    setData(newData);\n    let solSteps = utils.getSolutionSteps(newData, algo);\n    setSteps(solSteps);\n    setStepInd(0);\n  };\n\n  const toggleUnique = value => {\n    setUnique(value);\n    randomizeData(size, value);\n  };\n\n  const changeAlgo = value => {\n    setAlgo(value);\n    let solSteps = utils.getSolutionSteps(data, value);\n    setSteps(solSteps);\n    setStepInd(0);\n  };\n\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      if (solving && stepInd !== steps.length) {\n        console.log(steps[stepInd]);\n        setData(utils.performStep(data, steps[stepInd]));\n        setStepInd(stepInd => stepInd + 1);\n      } else if (stepInd === steps.length) {\n        setSolving(solving => false);\n      }\n    }, delay);\n    return () => {\n      clearTimeout(timer);\n    };\n  });\n\n  const step = instruction => {\n    switch (instruction) {\n      case 'next':\n        if (stepInd !== steps.length) {\n          setData(utils.performStep(data, steps[stepInd]));\n          setStepInd(stepInd => stepInd + 1);\n        }\n\n        break;\n\n      case 'back':\n        if (stepInd > 1) {\n          setData(utils.performInverseStep(data, steps, stepInd - 1));\n          setStepInd(stepInd - 1);\n        } else if (stepInd === 1) {\n          setData(utils.performStep(data, {\n            colors: [],\n            changedValues: []\n          }));\n          setStepInd(0);\n        }\n\n        break;\n\n      case 'end':\n        {\n          let newData = data;\n\n          for (let i = stepInd; i < steps.length; i++) {\n            newData = utils.performStep(data, steps[i]);\n          }\n\n          setData(newData);\n          setStepInd(steps.length);\n          break;\n        }\n\n      case 'beginning':\n        let newData = data;\n\n        for (let i = stepInd - 1; i > 1; i--) {\n          newData = utils.performInverseStep(data, steps, i);\n        }\n\n        setData(utils.performStep(newData, {\n          colors: [],\n          changedValues: []\n        }));\n        setStepInd(0);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    height: \"98vh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      height: \"75%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DisplayArea, {\n    data: data,\n    stepInd: stepInd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      height: \"25%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ControlPanel, {\n    size: size,\n    setSize: setSize,\n    unique: unique,\n    setUnique: toggleUnique,\n    algo: algo,\n    setAlgo: changeAlgo,\n    delay: delay,\n    setDelay: setDelay,\n    solving: solving,\n    setSolving: setSolving,\n    randomize: randomizeData,\n    step: step,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/asalmi/Documents/sort2.0/src/components/App.js"],"names":["React","useState","Box","Grid","ControlPanel","DisplayArea","utils","App","size","setSize","unique","setUnique","data","setData","randomize","algo","setAlgo","delay","setDelay","steps","setSteps","getSolutionSteps","stepInd","setStepInd","solving","setSolving","randomizeData","s","u","newData","solSteps","toggleUnique","value","changeAlgo","useEffect","timer","setTimeout","length","console","log","performStep","clearTimeout","step","instruction","performInverseStep","colors","changedValues","i","height"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport '../styles/App.css';\nimport { Box, Grid } from '@material-ui/core';\n\nimport ControlPanel from './ControlPanel';\nimport DisplayArea from './DisplayArea';\n\nimport utils from '../utils.js';\n\nfunction App() {\n  const [size,    setSize]   =  useState(55);\n  const [unique,  setUnique] =  useState(false);\n  const [data,    setData]   =  useState(utils.randomize(size, unique));\n  const [algo,    setAlgo]   =  useState('insertion');\n  const [delay,   setDelay]  =  useState(500);\n  const [steps,   setSteps]  =  useState(utils.getSolutionSteps(data, algo));\n  const [stepInd, setStepInd] = useState(0);\n  const [solving, setSolving] = useState(false);\n\n  const randomizeData = (s = size, u = unique) => {\n    let newData = utils.randomize(s, u)\n    setData(newData);\n    let solSteps = utils.getSolutionSteps(newData, algo);\n    setSteps(solSteps);\n    setStepInd(0);\n  };\n  const toggleUnique = (value) => {\n    setUnique(value);\n    randomizeData(size, value);\n  };\n  const changeAlgo = (value) => {\n    setAlgo(value);\n    let solSteps = utils.getSolutionSteps(data, value);\n    setSteps(solSteps);\n    setStepInd(0);\n  }\n\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      if(solving && stepInd !== steps.length){\n        console.log(steps[stepInd]);\n        setData(utils.performStep(data, steps[stepInd]));\n        setStepInd(stepInd => stepInd+1);\n      }\n      else if(stepInd === steps.length){\n        setSolving(solving => false);\n      }\n    }, delay);\n    return () => {\n      clearTimeout(timer);\n    };\n  })\n\n  const step = (instruction) => {\n    switch (instruction){\n      case 'next':\n        if(stepInd !== steps.length){\n          setData(utils.performStep(data, steps[stepInd]));\n          setStepInd(stepInd => stepInd+1);\n        }\n        break;\n      case 'back':\n        if(stepInd > 1){\n          setData(utils.performInverseStep(data, steps, stepInd-1));\n          setStepInd(stepInd-1);\n        }\n        else if(stepInd === 1) {\n          setData(utils.performStep(data, {colors: [], changedValues: []}));\n          setStepInd(0);\n        }\n        break;\n      case 'end': {\n        let newData = data;\n        for(let i=stepInd; i<steps.length; i++){\n          newData = utils.performStep(data, steps[i]);\n        }\n        setData(newData);\n        setStepInd(steps.length);\n        break;\n      }\n      case 'beginning':\n        let newData = data;\n        for(let i=stepInd-1; i>1; i--){\n          newData = utils.performInverseStep(data, steps, i);\n        }\n        setData(utils.performStep(newData, {colors: [], changedValues: []}));\n        setStepInd(0);\n        break;\n      default:\n        break;\n    }\n  }\n\n  return (\n    <div className=\"App\">\n    <Box height=\"98vh\"> \n      <Grid \n        container\n        direction=\"row\"\n        style={{height: \"100%\"}}\n      >\n        <Grid item xs={12} \n          style={{ height: \"75%\"}}\n        >\n          <DisplayArea data={data} stepInd={stepInd} />\n        </Grid>\n        <Grid item xs={12} \n          style={{ height: \"25%\" }}\n        >\n          <ControlPanel \n            size={size}\n            setSize={setSize}\n            unique={unique}\n            setUnique={toggleUnique}\n            algo={algo}\n            setAlgo={changeAlgo}\n            delay={delay}\n            setDelay={setDelay}\n            solving={solving}\n            setSolving={setSolving}\n            randomize={randomizeData}\n            step={step}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}